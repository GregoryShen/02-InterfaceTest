## [Pytest+Allure接口自动化一些学习分享](https://mp.weixin.qq.com/s/MSleA8CMxhbbFhaDs2XT8g)

## 主体思路

1. 采用数据驱动：yaml 文件管理测试用例，一个 yaml 文件最好对标一个接口，然后有不同情况的请求/判断数据。
2. 请求需要处理数据依赖的情况，因为用了`requests.session()`进行会话保持，所以排除`cookies`的依赖，需要处理的是其他参数的依赖，比如：支付请求的参数订单号的值，来自于确认订单的响应参数订单号的值。

### 对应的解决方案

* 依赖数据变量开头用`$`标记，比如`$orderid`（一个请求中，不能出现多个同名依赖数据变量）
* 需要指定提取该变量的测试用例
* 需要指定需要提取的变量名，比如：

```yaml
variables:	# 需要获取的变量值（本用例需要）
	- login:	# 提取变量的测试用例
	  - code_value
	  - data_value	# 变量名
```

* 对应的测试用例，

## 难点



## 代码目录结构



## 大体业务逻辑





## [【接口自动化框架】测试数据部分增加替换变量功能](https://blog.csdn.net/qq_30758629/article/details/105034991)ecco的文章

我们的接口自动化框架的测试数据放到 json 文件中，但是有些参数是动态生成的（例如随机字符串）；有些参数可以进行再次提取，放在`config`文件里（例如host, URL, accountid等等）

解决这个问题想到两个解决方法：

1. 在测试case的python文件中生成变量后再赋值给json文件中的变量（缺点：重复代码多）
2. 在json文件中直接引用函数或变量名称，在case读取json文件时，替换变量





## [python+requests接口自动化项目完整框架设计](https://mp.weixin.qq.com/s/u_dB06akjyZ3PuzhLFkiug)



## [腾讯TMQ: 专项测试之HTTP接口测试还可以这么玩](https://mp.weixin.qq.com/s/8Jbp-Ph84vos6qWdclxecw)

